<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Inspection - CheckMate Virtue</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .status-pass { color: #28a745; }
        .status-recommended { color: #ffc107; }
        .status-required { color: #dc3545; }
        .step-header { background-color: #f8f9fa; }
        .subcategory-header { background-color: #e9ecef; }
        .item-row { border-bottom: 1px solid #dee2e6; }
        .photo-preview { max-width: 150px; max-height: 150px; }
        .progress-bar { height: 8px; }
        .vehicle-info-card { 
            background-color: #f8f9fa; 
            border: 1px solid #dee2e6; 
            border-radius: 0.375rem; 
            padding: 1rem; 
        }
        .vehicle-info-item { 
            margin-bottom: 0.5rem; 
            font-size: 0.875rem; 
        }
        .inspector-info-card {
            background-color: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .validation-error {
            display: none;
            margin-bottom: 1rem;
        }
        .field-error {
            border-color: #dc3545 !important;
            box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25) !important;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <!-- Validation Error Container -->
        <div id="validation-error-container" data-testid="validation-error" class="alert alert-danger validation-error d-none" role="alert" style="display: none;">
            <i class="fas fa-exclamation-triangle"></i>
            <span id="validation-error-message">Inspection title is required</span>
        </div>

        <div class="row">
            <!-- Sidebar with Progress -->
            <div class="col-md-3 bg-light p-3">
                <h4 class="mb-4">
                    <i class="fas fa-clipboard-check"></i>
                    Vehicle Inspection
                </h4>
                
                <!-- Inspector Information -->
                <div class="inspector-info-card" data-testid="inspection-form">
                    <h6><i class="fas fa-user"></i> Inspector Information</h6>
                    <div class="mb-3">
                        <label for="inspector_name" class="form-label">Inspector Name *</label>
                        <input type="text" id="inspector_name" data-testid="inspector-name" class="form-control" placeholder="Enter inspector name" required="" aria-invalid="false">
                    </div>
                    <div class="mb-3">
                        <label for="inspector_id" class="form-label">Inspector ID *</label>
                        <input type="text" id="inspector_id" data-testid="inspector-id" class="form-control" placeholder="Enter inspector ID" required="" aria-invalid="false">
                    </div>
                    <div class="mb-3">
                        <label for="inspection_title" class="form-label">Inspection Title *</label>
                        <input type="text" id="inspection_title" data-testid="inspection-title" class="form-control" placeholder="Enter inspection title" required="" aria-invalid="false">
                    </div>
                </div>

                <!-- VIN Input -->
                <div class="mb-4">
                    <label for="vin" class="form-label">VIN Number</label>
                    <input type="text" id="vin" data-testid="vin-input" class="form-control" placeholder="Enter VIN for auto-fill" aria-invalid="false">
                    <div class="mt-2">
                        <button type="button" id="decode-vin" data-testid="decode-vin" class="btn btn-sm btn-outline-primary">
                            <i class="fas fa-search"></i> Decode VIN
                        </button>
                    </div>
                </div>

                <!-- Vehicle Info Display -->
                <div id="vehicle-info" data-testid="vehicle-info" class="mb-4 vehicle-info-card" style="display: block;">
                    <h6><i class="fas fa-car"></i> Vehicle Information</h6>
                    <div id="vehicle-details" class="small text-muted"><div class="vehicle-info-item"><strong>VIN:</strong> 1HGBH41JXMN109186</div><div class="vehicle-info-item"><strong>Year:</strong> 1991</div><div class="vehicle-info-item"><strong>Make:</strong> HONDA</div><div class="vehicle-info-item"><strong>Model:</strong> ACCORD</div><div class="vehicle-info-item"><strong>Trim:</strong> DX</div><div class="vehicle-info-item"><strong>Body Style:</strong> Sedan</div><div class="vehicle-info-item"><strong>Fuel Type:</strong> Gasoline</div><div class="vehicle-info-item"><strong>Drivetrain:</strong> FWD</div></div>
                </div>

                <!-- Progress -->
                <div class="mb-4">
                    <h6>Progress</h6>
                    <div class="progress mb-2">
                        <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 100%;"></div>
                    </div>
                    <small id="progress-text">100% Complete</small>
                </div>

                <!-- Steps Navigation -->
                <div class="mb-4">
                    <h6>Inspection Sections</h6>
                    <div id="steps-nav"><div class="mb-2">
                    <button class="btn btn-sm w-100 text-start btn-primary" onclick="showStep(0)">
                        <i class="fas fa-battery"></i>
                        Battery/Starting Check
                    </button>
                </div><div class="mb-2">
                    <button class="btn btn-outline-primary btn-sm w-100 text-start" onclick="showStep(1)">
                        <i class="fas fa-brake"></i>
                        Brakes
                    </button>
                </div><div class="mb-2">
                    <button class="btn btn-outline-primary btn-sm w-100 text-start" onclick="showStep(2)">
                        <i class="fas fa-smoke"></i>
                        Exhaust
                    </button>
                </div><div class="mb-2">
                    <button class="btn btn-outline-primary btn-sm w-100 text-start" onclick="showStep(3)">
                        <i class="fas fa-droplet"></i>
                        Fluid Leaks
                    </button>
                </div><div class="mb-2">
                    <button class="btn btn-outline-primary btn-sm w-100 text-start" onclick="showStep(4)">
                        <i class="fas fa-bolt"></i>
                        Ignition
                    </button>
                </div><div class="mb-2">
                    <button class="btn btn-outline-primary btn-sm w-100 text-start" onclick="showStep(5)">
                        <i class="fas fa-cogs"></i>
                        Steering &amp; Suspension
                    </button>
                </div><div class="mb-2">
                    <button class="btn btn-outline-primary btn-sm w-100 text-start" onclick="showStep(6)">
                        <i class="fas fa-tire"></i>
                        Tires &amp; Tire Maintenance
                    </button>
                </div><div class="mb-2">
                    <button class="btn btn-outline-primary btn-sm w-100 text-start" onclick="showStep(7)">
                        <i class="fas fa-tools"></i>
                        Vehicle Inspection / Maintenance Services
                    </button>
                </div></div>
                </div>

                <!-- Save Button -->
                <div class="mb-4">
                    <button type="button" id="save-inspection" data-testid="save-inspection" class="btn btn-success w-100">
                        <i class="fas fa-save"></i> Save Inspection
                    </button>
                </div>

                <!-- Save Draft Button -->
                <div class="mb-4">
                    <button type="button" id="save-draft" data-testid="save-draft" class="btn btn-outline-primary w-100">
                        <i class="fas fa-edit"></i> Save Draft
                    </button>
                </div>

                <!-- Finalize Button -->
                <div class="mb-4">
                    <button type="button" id="finalize-inspection" data-testid="finalize-inspection" class="btn w-100 btn-secondary" disabled="">
                        <i class="fas fa-lock"></i> Finalize Inspection
                    </button>
                </div>

                <!-- Report Generation Buttons -->
                <div class="mb-4">
                    <button type="button" id="generate-report" data-testid="generate-report" class="btn btn-info w-100 mb-2">
                        <i class="fas fa-file-alt"></i> Generate HTML Report
                    </button>
                    <button type="button" id="generate-pdf-report" data-testid="generate-pdf-report" class="btn btn-secondary w-100">
                        <i class="fas fa-file-pdf"></i> Generate PDF Report
                    </button>
                </div>

                <!-- Status Indicator -->
                <div class="mb-4">
                    <div id="inspection-status" data-testid="inspection-status" class="alert alert-info">
                        <i class="fas fa-info-circle"></i> Status: <span id="status-text">Draft</span>
                    </div>
                </div>
                
                <!-- Hidden inspection ID for testing -->
                <input type="hidden" id="inspection-id" data-testid="inspection-id" value="insp_20250814_014941">
            </div>

            <!-- Main Content -->
            <div class="col-md-9 p-4">
                <div id="inspection-content"><div id="step-0" class="step-content" style="display: block;">
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-battery"></i> Battery/Starting Check</h3>
                    </div>
                    
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> Battery/Starting Check</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Battery">
                            <td>
                                <label class="form-label">
                                    Battery
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-0" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Battery')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-0" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Battery Accessories">
                            <td>
                                <label class="form-label">
                                    Battery Accessories
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-1" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Battery Accessories')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-1" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Start / Charge Test">
                            <td>
                                <label class="form-label">
                                    Start / Charge Test
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-2" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Start / Charge Test')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-2" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Battery Status - Good">
                            <td>
                                <label class="form-label">
                                    Battery Status - Good
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-3" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Battery Status - Good')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-3" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Battery Status - Replace Soon">
                            <td>
                                <label class="form-label">
                                    Battery Status - Replace Soon
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-4" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Battery Status - Replace Soon')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-4" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Battery Status - Replace Now">
                            <td>
                                <label class="form-label">
                                    Battery Status - Replace Now
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-5" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Battery Status - Replace Now')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-5" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Cable(s) POS+">
                            <td>
                                <label class="form-label">
                                    Cable(s) POS+
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-6" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Cable(s) POS+')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-6" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Cable(s) NEG-">
                            <td>
                                <label class="form-label">
                                    Cable(s) NEG-
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-7" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Cable(s) NEG-')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-7" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Battery/Starting Check" data-subcategory="Battery/Starting Check" data-item="Hold Downs">
                            <td>
                                <label class="form-label">
                                    Hold Downs
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-0-0-8" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Battery/Starting Check', 'Battery/Starting Check', 'Hold Downs')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-0-0-8" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                
                </div><div id="step-1" class="step-content" style="display: none;">
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-brake"></i> Brakes</h3>
                    </div>
                    
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> Brakes</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="ABS (Yes/No)">
                            <td>
                                <label class="form-label">
                                    ABS (Yes/No)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-0" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'ABS (Yes/No)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-0" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LF Pad - Greater than 6mm (Discs) or 2.4mm (Drum)">
                            <td>
                                <label class="form-label">
                                    LF Pad - Greater than 6mm (Discs) or 2.4mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-1" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LF Pad - Greater than 6mm (Discs) or 2.4mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-1" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LF Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)">
                            <td>
                                <label class="form-label">
                                    LF Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-2" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LF Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-2" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LF Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)">
                            <td>
                                <label class="form-label">
                                    LF Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-3" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LF Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-3" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RF Pad - Greater than 6mm (Discs) or 2.4mm (Drum)">
                            <td>
                                <label class="form-label">
                                    RF Pad - Greater than 6mm (Discs) or 2.4mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-4" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RF Pad - Greater than 6mm (Discs) or 2.4mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-4" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RF Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)">
                            <td>
                                <label class="form-label">
                                    RF Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-5" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RF Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-5" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RF Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)">
                            <td>
                                <label class="form-label">
                                    RF Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-6" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RF Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-6" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LR Pad - Greater than 6mm (Discs) or 2.4mm (Drum)">
                            <td>
                                <label class="form-label">
                                    LR Pad - Greater than 6mm (Discs) or 2.4mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-7" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LR Pad - Greater than 6mm (Discs) or 2.4mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-7" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LR Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)">
                            <td>
                                <label class="form-label">
                                    LR Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-8" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LR Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-8" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LR Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)">
                            <td>
                                <label class="form-label">
                                    LR Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-9" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LR Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-9" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RR Pad - Greater than 6mm (Discs) or 2.4mm (Drum)">
                            <td>
                                <label class="form-label">
                                    RR Pad - Greater than 6mm (Discs) or 2.4mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-10" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RR Pad - Greater than 6mm (Discs) or 2.4mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-10" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RR Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)">
                            <td>
                                <label class="form-label">
                                    RR Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-11" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RR Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-11" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RR Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)">
                            <td>
                                <label class="form-label">
                                    RR Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-12" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RR Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-12" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LF Rotor - Actual Measure">
                            <td>
                                <label class="form-label">
                                    LF Rotor - Actual Measure
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-13" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LF Rotor - Actual Measure')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-13" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LF Rotor - Machine To">
                            <td>
                                <label class="form-label">
                                    LF Rotor - Machine To
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-14" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LF Rotor - Machine To')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-14" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LF Rotor - Discard At">
                            <td>
                                <label class="form-label">
                                    LF Rotor - Discard At
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-15" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LF Rotor - Discard At')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-15" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RF Rotor - Actual Measure">
                            <td>
                                <label class="form-label">
                                    RF Rotor - Actual Measure
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-16" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RF Rotor - Actual Measure')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-16" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RF Rotor - Machine To">
                            <td>
                                <label class="form-label">
                                    RF Rotor - Machine To
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-17" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RF Rotor - Machine To')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-17" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RF Rotor - Discard At">
                            <td>
                                <label class="form-label">
                                    RF Rotor - Discard At
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-18" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RF Rotor - Discard At')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-18" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LR Rotor/Drum - Actual Measure">
                            <td>
                                <label class="form-label">
                                    LR Rotor/Drum - Actual Measure
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-19" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LR Rotor/Drum - Actual Measure')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-19" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LR Rotor/Drum - Machine To">
                            <td>
                                <label class="form-label">
                                    LR Rotor/Drum - Machine To
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-20" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LR Rotor/Drum - Machine To')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-20" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="LR Rotor/Drum - Discard At">
                            <td>
                                <label class="form-label">
                                    LR Rotor/Drum - Discard At
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-21" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'LR Rotor/Drum - Discard At')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-21" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RR Rotor/Drum - Actual Measure">
                            <td>
                                <label class="form-label">
                                    RR Rotor/Drum - Actual Measure
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-22" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RR Rotor/Drum - Actual Measure')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-22" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RR Rotor/Drum - Machine To">
                            <td>
                                <label class="form-label">
                                    RR Rotor/Drum - Machine To
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-23" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RR Rotor/Drum - Machine To')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-23" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="RR Rotor/Drum - Discard At">
                            <td>
                                <label class="form-label">
                                    RR Rotor/Drum - Discard At
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-24" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'RR Rotor/Drum - Discard At')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-24" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="Rear Clean/Adj">
                            <td>
                                <label class="form-label">
                                    Rear Clean/Adj
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-25" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'Rear Clean/Adj')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-25" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="Brake Hose(s)">
                            <td>
                                <label class="form-label">
                                    Brake Hose(s)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-26" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'Brake Hose(s)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-26" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="Parking Cables">
                            <td>
                                <label class="form-label">
                                    Parking Cables
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-27" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'Parking Cables')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-27" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="Other Brake Services">
                            <td>
                                <label class="form-label">
                                    Other Brake Services
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-28" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'Other Brake Services')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-28" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="Hardware">
                            <td>
                                <label class="form-label">
                                    Hardware
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-29" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'Hardware')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-29" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="Caliper">
                            <td>
                                <label class="form-label">
                                    Caliper
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-30" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'Caliper')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-30" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="Wheel Cylinder">
                            <td>
                                <label class="form-label">
                                    Wheel Cylinder
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-31" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'Wheel Cylinder')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-31" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Brakes" data-subcategory="Brakes" data-item="Repack">
                            <td>
                                <label class="form-label">
                                    Repack
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-1-0-32" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Brakes', 'Brakes', 'Repack')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-1-0-32" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                
                </div><div id="step-2" class="step-content" style="display: none;">
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-smoke"></i> Exhaust</h3>
                    </div>
                    
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> Exhaust</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                
                        <tr class="item-row" data-testid="item-row" data-step="Exhaust" data-subcategory="Exhaust" data-item="Exhaust System - Inter. Pipe">
                            <td>
                                <label class="form-label">
                                    Exhaust System - Inter. Pipe
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-2-0-0" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Exhaust', 'Exhaust', 'Exhaust System - Inter. Pipe')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-2-0-0" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Exhaust" data-subcategory="Exhaust" data-item="Exhaust System - Muffler">
                            <td>
                                <label class="form-label">
                                    Exhaust System - Muffler
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-2-0-1" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Exhaust', 'Exhaust', 'Exhaust System - Muffler')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-2-0-1" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Exhaust" data-subcategory="Exhaust" data-item="Exhaust System - Tailpipe">
                            <td>
                                <label class="form-label">
                                    Exhaust System - Tailpipe
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-2-0-2" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Exhaust', 'Exhaust', 'Exhaust System - Tailpipe')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-2-0-2" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Exhaust" data-subcategory="Exhaust" data-item="Catalytic Converter">
                            <td>
                                <label class="form-label">
                                    Catalytic Converter
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-2-0-3" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Exhaust', 'Exhaust', 'Catalytic Converter')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-2-0-3" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Exhaust" data-subcategory="Exhaust" data-item="O2 Sensor">
                            <td>
                                <label class="form-label">
                                    O2 Sensor
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-2-0-4" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Exhaust', 'Exhaust', 'O2 Sensor')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-2-0-4" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                
                </div><div id="step-3" class="step-content" style="display: none;">
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-droplet"></i> Fluid Leaks</h3>
                    </div>
                    
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> Fluid Leaks</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Engine Oil">
                            <td>
                                <label class="form-label">
                                    Engine Oil
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-0" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Engine Oil')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-0" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Power Steering">
                            <td>
                                <label class="form-label">
                                    Power Steering
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-1" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Power Steering')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-1" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Coolant">
                            <td>
                                <label class="form-label">
                                    Coolant
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-2" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Coolant')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-2" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Trans. / Case">
                            <td>
                                <label class="form-label">
                                    Trans. / Case
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-3" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Trans. / Case')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-3" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Brake">
                            <td>
                                <label class="form-label">
                                    Brake
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-4" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Brake')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-4" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Differential Front">
                            <td>
                                <label class="form-label">
                                    Differential Front
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-5" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Differential Front')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-5" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Differential Rear">
                            <td>
                                <label class="form-label">
                                    Differential Rear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-6" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Differential Rear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-6" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Coolant Level Flush">
                            <td>
                                <label class="form-label">
                                    Coolant Level Flush
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-7" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Coolant Level Flush')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-7" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Coolant Hoses">
                            <td>
                                <label class="form-label">
                                    Coolant Hoses
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-8" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Coolant Hoses')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-8" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - ALT">
                            <td>
                                <label class="form-label">
                                    Belts - ALT
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-9" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - ALT')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-9" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - PS">
                            <td>
                                <label class="form-label">
                                    Belts - PS
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-10" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - PS')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-10" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - A/C">
                            <td>
                                <label class="form-label">
                                    Belts - A/C
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-11" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - A/C')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-11" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - AP">
                            <td>
                                <label class="form-label">
                                    Belts - AP
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-12" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - AP')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-12" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - 1">
                            <td>
                                <label class="form-label">
                                    Belts - 1
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-13" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - 1')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-13" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - 2">
                            <td>
                                <label class="form-label">
                                    Belts - 2
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-14" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - 2')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-14" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - 3">
                            <td>
                                <label class="form-label">
                                    Belts - 3
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-15" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - 3')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-15" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - 4">
                            <td>
                                <label class="form-label">
                                    Belts - 4
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-16" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - 4')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-16" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belts - Serp">
                            <td>
                                <label class="form-label">
                                    Belts - Serp
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-17" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belts - Serp')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-17" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Timing Belt">
                            <td>
                                <label class="form-label">
                                    Timing Belt
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-18" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Timing Belt')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-18" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Fluid Leaks" data-subcategory="Fluid Leaks" data-item="Belt Tensioner">
                            <td>
                                <label class="form-label">
                                    Belt Tensioner
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-3-0-19" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Fluid Leaks', 'Fluid Leaks', 'Belt Tensioner')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-3-0-19" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                
                </div><div id="step-4" class="step-content" style="display: none;">
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-bolt"></i> Ignition</h3>
                    </div>
                    
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> Ignition</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                
                        <tr class="item-row" data-testid="item-row" data-step="Ignition" data-subcategory="Ignition" data-item="Spark Plugs">
                            <td>
                                <label class="form-label">
                                    Spark Plugs
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-4-0-0" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Ignition', 'Ignition', 'Spark Plugs')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-4-0-0" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Ignition" data-subcategory="Ignition" data-item="Cable / Boot">
                            <td>
                                <label class="form-label">
                                    Cable / Boot
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-4-0-1" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Ignition', 'Ignition', 'Cable / Boot')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-4-0-1" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Ignition" data-subcategory="Ignition" data-item="Coils">
                            <td>
                                <label class="form-label">
                                    Coils
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-4-0-2" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Ignition', 'Ignition', 'Coils')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-4-0-2" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                
                </div><div id="step-5" class="step-content" style="display: none;">
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-cogs"></i> Steering &amp; Suspension</h3>
                    </div>
                    
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> Steering &amp; Suspension</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Idler Arm">
                            <td>
                                <label class="form-label">
                                    Idler Arm
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-0" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Idler Arm')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-0" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Pitman Arm">
                            <td>
                                <label class="form-label">
                                    Pitman Arm
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-1" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Pitman Arm')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-1" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Center Link">
                            <td>
                                <label class="form-label">
                                    Center Link
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-2" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Center Link')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-2" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Bushings - Control Arm">
                            <td>
                                <label class="form-label">
                                    Bushings - Control Arm
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-3" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Bushings - Control Arm')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-3" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Bushings - Sway Bar">
                            <td>
                                <label class="form-label">
                                    Bushings - Sway Bar
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-4" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Bushings - Sway Bar')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-4" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Bushings - Sleeve(s)">
                            <td>
                                <label class="form-label">
                                    Bushings - Sleeve(s)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-5" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Bushings - Sleeve(s)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-5" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Tie Rod Ends - L Out">
                            <td>
                                <label class="form-label">
                                    Tie Rod Ends - L Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-6" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Tie Rod Ends - L Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-6" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Tie Rod Ends - L In">
                            <td>
                                <label class="form-label">
                                    Tie Rod Ends - L In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-7" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Tie Rod Ends - L In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-7" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Tie Rod Ends - R Out">
                            <td>
                                <label class="form-label">
                                    Tie Rod Ends - R Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-8" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Tie Rod Ends - R Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-8" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Tie Rod Ends - R In">
                            <td>
                                <label class="form-label">
                                    Tie Rod Ends - R In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-9" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Tie Rod Ends - R In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-9" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Ball Joints - L Upper">
                            <td>
                                <label class="form-label">
                                    Ball Joints - L Upper
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-10" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Ball Joints - L Upper')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-10" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Ball Joints - L Lower">
                            <td>
                                <label class="form-label">
                                    Ball Joints - L Lower
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-11" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Ball Joints - L Lower')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-11" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Ball Joints - R Upper">
                            <td>
                                <label class="form-label">
                                    Ball Joints - R Upper
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-12" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Ball Joints - R Upper')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-12" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Ball Joints - R Lower">
                            <td>
                                <label class="form-label">
                                    Ball Joints - R Lower
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-13" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Ball Joints - R Lower')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-13" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Rack &amp; Pinion - L Out">
                            <td>
                                <label class="form-label">
                                    Rack &amp; Pinion - L Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-14" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Rack &amp; Pinion - L Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-14" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Rack &amp; Pinion - L In">
                            <td>
                                <label class="form-label">
                                    Rack &amp; Pinion - L In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-15" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Rack &amp; Pinion - L In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-15" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Rack &amp; Pinion - R Out">
                            <td>
                                <label class="form-label">
                                    Rack &amp; Pinion - R Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-16" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Rack &amp; Pinion - R Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-16" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Rack &amp; Pinion - R In">
                            <td>
                                <label class="form-label">
                                    Rack &amp; Pinion - R In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-17" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Rack &amp; Pinion - R In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-17" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="CV Boots - L Out">
                            <td>
                                <label class="form-label">
                                    CV Boots - L Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-18" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'CV Boots - L Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-18" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="CV Boots - L In">
                            <td>
                                <label class="form-label">
                                    CV Boots - L In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-19" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'CV Boots - L In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-19" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="CV Boots - R Out">
                            <td>
                                <label class="form-label">
                                    CV Boots - R Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-20" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'CV Boots - R Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-20" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="CV Boots - R In">
                            <td>
                                <label class="form-label">
                                    CV Boots - R In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-21" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'CV Boots - R In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-21" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="CV Joints - L Out">
                            <td>
                                <label class="form-label">
                                    CV Joints - L Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-22" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'CV Joints - L Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-22" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="CV Joints - L In">
                            <td>
                                <label class="form-label">
                                    CV Joints - L In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-23" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'CV Joints - L In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-23" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="CV Joints - R Out">
                            <td>
                                <label class="form-label">
                                    CV Joints - R Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-24" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'CV Joints - R Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-24" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="CV Joints - R In">
                            <td>
                                <label class="form-label">
                                    CV Joints - R In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-25" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'CV Joints - R In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-25" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Struts - Front">
                            <td>
                                <label class="form-label">
                                    Struts - Front
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-26" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Struts - Front')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-26" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Struts - Rear">
                            <td>
                                <label class="form-label">
                                    Struts - Rear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-27" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Struts - Rear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-27" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Struts - Left">
                            <td>
                                <label class="form-label">
                                    Struts - Left
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-28" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Struts - Left')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-28" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Struts - Right">
                            <td>
                                <label class="form-label">
                                    Struts - Right
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-29" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Struts - Right')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-29" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Shocks - Front">
                            <td>
                                <label class="form-label">
                                    Shocks - Front
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-30" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Shocks - Front')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-30" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Shocks - Rear">
                            <td>
                                <label class="form-label">
                                    Shocks - Rear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-31" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Shocks - Rear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-31" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Shocks - Left">
                            <td>
                                <label class="form-label">
                                    Shocks - Left
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-32" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Shocks - Left')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-32" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Steering &amp; Suspension" data-subcategory="Steering &amp; Suspension" data-item="Shocks - Right">
                            <td>
                                <label class="form-label">
                                    Shocks - Right
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-5-0-33" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Steering &amp; Suspension', 'Steering &amp; Suspension', 'Shocks - Right')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-5-0-33" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                
                </div><div id="step-6" class="step-content" style="display: none;">
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-tire"></i> Tires &amp; Tire Maintenance</h3>
                    </div>
                    
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> Tires &amp; Tire Maintenance</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Tire Size (F/R)">
                            <td>
                                <label class="form-label">
                                    Tire Size (F/R)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-0" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Tire Size (F/R)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-0" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Speed/Load Rating">
                            <td>
                                <label class="form-label">
                                    Speed/Load Rating
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-1" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Speed/Load Rating')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-1" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Run Flat (Y/N)">
                            <td>
                                <label class="form-label">
                                    Run Flat (Y/N)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-2" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Run Flat (Y/N)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-2" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="TPMS (Y/N)">
                            <td>
                                <label class="form-label">
                                    TPMS (Y/N)
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-3" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'TPMS (Y/N)')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-3" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - PSI In">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - PSI In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-4" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - PSI In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-4" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - PSI Out">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - PSI Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-5" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - PSI Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-5" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Tread Depth Outer">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Tread Depth Outer
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-6" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Tread Depth Outer')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-6" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Tread Depth Inner">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Tread Depth Inner
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-7" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Tread Depth Inner')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-7" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Edgewear">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Edgewear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-8" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Edgewear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-8" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Cracking">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Cracking
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-9" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Cracking')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-9" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Cupping">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Cupping
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-10" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Cupping')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-10" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Puncture">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Puncture
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-11" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Puncture')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-11" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Cuts">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Cuts
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-12" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Cuts')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-12" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Irregularity">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Irregularity
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-13" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Irregularity')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-13" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Repairable">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Repairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-14" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Repairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-14" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Front Tire - Unrepairable">
                            <td>
                                <label class="form-label">
                                    Left Front Tire - Unrepairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-15" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Front Tire - Unrepairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-15" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - PSI In">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - PSI In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-16" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - PSI In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-16" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - PSI Out">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - PSI Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-17" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - PSI Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-17" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Tread Depth Outer">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Tread Depth Outer
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-18" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Tread Depth Outer')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-18" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Tread Depth Inner">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Tread Depth Inner
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-19" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Tread Depth Inner')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-19" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Edgewear">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Edgewear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-20" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Edgewear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-20" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Cracking">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Cracking
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-21" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Cracking')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-21" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Cupping">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Cupping
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-22" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Cupping')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-22" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Puncture">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Puncture
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-23" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Puncture')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-23" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Cuts">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Cuts
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-24" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Cuts')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-24" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Irregularity">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Irregularity
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-25" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Irregularity')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-25" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Repairable">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Repairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-26" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Repairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-26" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Front Tire - Unrepairable">
                            <td>
                                <label class="form-label">
                                    Right Front Tire - Unrepairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-27" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Front Tire - Unrepairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-27" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - PSI In">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - PSI In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-28" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - PSI In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-28" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - PSI Out">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - PSI Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-29" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - PSI Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-29" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Tread Depth Outer">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Tread Depth Outer
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-30" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Tread Depth Outer')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-30" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Tread Depth Inner">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Tread Depth Inner
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-31" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Tread Depth Inner')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-31" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Edgewear">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Edgewear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-32" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Edgewear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-32" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Cracking">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Cracking
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-33" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Cracking')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-33" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Cupping">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Cupping
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-34" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Cupping')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-34" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Puncture">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Puncture
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-35" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Puncture')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-35" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Cuts">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Cuts
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-36" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Cuts')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-36" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Irregularity">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Irregularity
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-37" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Irregularity')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-37" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Repairable">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Repairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-38" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Repairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-38" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Left Rear Tire - Unrepairable">
                            <td>
                                <label class="form-label">
                                    Left Rear Tire - Unrepairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-39" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Left Rear Tire - Unrepairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-39" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - PSI In">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - PSI In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-40" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - PSI In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-40" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - PSI Out">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - PSI Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-41" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - PSI Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-41" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Tread Depth Outer">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Tread Depth Outer
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-42" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Tread Depth Outer')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-42" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Tread Depth Inner">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Tread Depth Inner
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-43" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Tread Depth Inner')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-43" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Edgewear">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Edgewear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-44" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Edgewear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-44" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Cracking">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Cracking
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-45" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Cracking')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-45" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Cupping">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Cupping
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-46" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Cupping')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-46" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Puncture">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Puncture
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-47" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Puncture')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-47" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Cuts">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Cuts
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-48" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Cuts')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-48" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Irregularity">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Irregularity
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-49" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Irregularity')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-49" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Repairable">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Repairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-50" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Repairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-50" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Right Rear Tire - Unrepairable">
                            <td>
                                <label class="form-label">
                                    Right Rear Tire - Unrepairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-51" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Right Rear Tire - Unrepairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-51" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - PSI In">
                            <td>
                                <label class="form-label">
                                    Spare Tire - PSI In
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-52" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - PSI In')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-52" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - PSI Out">
                            <td>
                                <label class="form-label">
                                    Spare Tire - PSI Out
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-53" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - PSI Out')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-53" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Tread Depth Outer">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Tread Depth Outer
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-54" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Tread Depth Outer')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-54" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Tread Depth Inner">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Tread Depth Inner
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-55" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Tread Depth Inner')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-55" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Edgewear">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Edgewear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-56" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Edgewear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-56" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Cracking">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Cracking
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-57" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Cracking')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-57" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Cupping">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Cupping
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-58" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Cupping')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-58" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Puncture">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Puncture
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-59" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Puncture')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-59" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Cuts">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Cuts
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-60" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Cuts')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-60" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Irregularity">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Irregularity
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-61" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Irregularity')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-61" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Repairable">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Repairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-62" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Repairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-62" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Spare Tire - Unrepairable">
                            <td>
                                <label class="form-label">
                                    Spare Tire - Unrepairable
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-63" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Spare Tire - Unrepairable')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-63" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Tire Rotation">
                            <td>
                                <label class="form-label">
                                    Tire Rotation
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-64" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Tire Rotation')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-64" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Tire Balance">
                            <td>
                                <label class="form-label">
                                    Tire Balance
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-65" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Tire Balance')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-65" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Tire Wear">
                            <td>
                                <label class="form-label">
                                    Tire Wear
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-66" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Tire Wear')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-66" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Tires &amp; Tire Maintenance" data-subcategory="Tires &amp; Tire Maintenance" data-item="Alignment Check">
                            <td>
                                <label class="form-label">
                                    Alignment Check
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-6-0-67" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Tires &amp; Tire Maintenance', 'Tires &amp; Tire Maintenance', 'Alignment Check')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-6-0-67" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                
                </div><div id="step-7" class="step-content" style="display: none;">
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-tools"></i> Vehicle Inspection / Maintenance Services</h3>
                    </div>
                    
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> Vehicle Inspection / Maintenance Services</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Wiper Blades">
                            <td>
                                <label class="form-label">
                                    Wiper Blades
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-0" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Wiper Blades')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-0" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Head Lights">
                            <td>
                                <label class="form-label">
                                    Head Lights
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-1" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Head Lights')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-1" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Mini Lights">
                            <td>
                                <label class="form-label">
                                    Mini Lights
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-2" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Mini Lights')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-2" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Air Filter">
                            <td>
                                <label class="form-label">
                                    Air Filter
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-3" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Air Filter')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-3" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Cabin Air Filter">
                            <td>
                                <label class="form-label">
                                    Cabin Air Filter
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-4" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Cabin Air Filter')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-4" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Fuel Filter">
                            <td>
                                <label class="form-label">
                                    Fuel Filter
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-5" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Fuel Filter')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-5" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Fuel System Service">
                            <td>
                                <label class="form-label">
                                    Fuel System Service
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-6" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Fuel System Service')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-6" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Power Steering Fluid">
                            <td>
                                <label class="form-label">
                                    Power Steering Fluid
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-7" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Power Steering Fluid')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-7" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                        <tr class="item-row" data-testid="item-row" data-step="Vehicle Inspection / Maintenance Services" data-subcategory="Vehicle Inspection / Maintenance Services" data-item="Master Cyl. Fluid">
                            <td>
                                <label class="form-label">
                                    Master Cyl. Fluid
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-7-0-8" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload" onclick="openPhotoModal('Vehicle Inspection / Maintenance Services', 'Vehicle Inspection / Maintenance Services', 'Master Cyl. Fluid')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-7-0-8" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note" rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    
                            </tbody>
                        </table>
                    </div>
                
                </div></div>
            </div>
        </div>
    </div>

    <!-- Photo Upload Modal -->
    <div class="modal fade" id="photoModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Upload Photo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="photo-form">
                        <div class="mb-3">
                            <label for="photo-file" class="form-label">Select Photo</label>
                            <input type="file" id="photo-file" class="form-control" accept="image/*" required="">
                        </div>
                        <div class="mb-3">
                            <label for="camera-input" class="form-label">Or Take Photo</label>
                            <input type="file" id="camera-input" class="form-control" accept="image/*" capture="environment">
                        </div>
                        <div id="upload-area" class="border-2 border-dashed p-4 text-center" style="border-style: dashed;">
                            <i class="fas fa-cloud-upload-alt fa-2x text-muted"></i>
                            <p class="mt-2">Drag and drop photo here or click to select</p>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="uploadPhoto()">Upload Photo</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let inspectionTemplate = {"description": "Comprehensive automotive inspection based on industry standard checklist.", "inspection_name": "Vehicle Inspection / Maintenance Services", "inspection_points": {"battery_starting_check": {"description": "Battery/Starting Check", "items": ["Battery", "Battery Accessories", "Start / Charge Test", "Battery Status - Good", "Battery Status - Replace Soon", "Battery Status - Replace Now", "Cable(s) POS+", "Cable(s) NEG-", "Hold Downs"]}, "brakes": {"description": "Brakes", "items": ["ABS (Yes/No)", "LF Pad - Greater than 6mm (Discs) or 2.4mm (Drum)", "LF Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)", "LF Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)", "RF Pad - Greater than 6mm (Discs) or 2.4mm (Drum)", "RF Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)", "RF Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)", "LR Pad - Greater than 6mm (Discs) or 2.4mm (Drum)", "LR Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)", "LR Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)", "RR Pad - Greater than 6mm (Discs) or 2.4mm (Drum)", "RR Pad - Greater than 3mm or less than 6mm (Discs) or 1.6mm to 2.4mm (Drum)", "RR Pad - Less than 3mm (Discs) or less than 1.6mm (Drum)", "LF Rotor - Actual Measure", "LF Rotor - Machine To", "LF Rotor - Discard At", "RF Rotor - Actual Measure", "RF Rotor - Machine To", "RF Rotor - Discard At", "LR Rotor/Drum - Actual Measure", "LR Rotor/Drum - Machine To", "LR Rotor/Drum - Discard At", "RR Rotor/Drum - Actual Measure", "RR Rotor/Drum - Machine To", "RR Rotor/Drum - Discard At", "Rear Clean/Adj", "Brake Hose(s)", "Parking Cables", "Other Brake Services", "Hardware", "Caliper", "Wheel Cylinder", "Repack"]}, "exhaust": {"description": "Exhaust", "items": ["Exhaust System - Inter. Pipe", "Exhaust System - Muffler", "Exhaust System - Tailpipe", "Catalytic Converter", "O2 Sensor"]}, "fluid_leaks": {"description": "Fluid Leaks", "items": ["Engine Oil", "Power Steering", "Coolant", "Trans. / Case", "Brake", "Differential Front", "Differential Rear", "Coolant Level Flush", "Coolant Hoses", "Belts - ALT", "Belts - PS", "Belts - A/C", "Belts - AP", "Belts - 1", "Belts - 2", "Belts - 3", "Belts - 4", "Belts - Serp", "Timing Belt", "Belt Tensioner"]}, "ignition": {"description": "Ignition", "items": ["Spark Plugs", "Cable / Boot", "Coils"]}, "steering_suspension": {"description": "Steering \u0026 Suspension", "items": ["Idler Arm", "Pitman Arm", "Center Link", "Bushings - Control Arm", "Bushings - Sway Bar", "Bushings - Sleeve(s)", "Tie Rod Ends - L Out", "Tie Rod Ends - L In", "Tie Rod Ends - R Out", "Tie Rod Ends - R In", "Ball Joints - L Upper", "Ball Joints - L Lower", "Ball Joints - R Upper", "Ball Joints - R Lower", "Rack \u0026 Pinion - L Out", "Rack \u0026 Pinion - L In", "Rack \u0026 Pinion - R Out", "Rack \u0026 Pinion - R In", "CV Boots - L Out", "CV Boots - L In", "CV Boots - R Out", "CV Boots - R In", "CV Joints - L Out", "CV Joints - L In", "CV Joints - R Out", "CV Joints - R In", "Struts - Front", "Struts - Rear", "Struts - Left", "Struts - Right", "Shocks - Front", "Shocks - Rear", "Shocks - Left", "Shocks - Right"]}, "tires_tire_maintenance": {"description": "Tires \u0026 Tire Maintenance", "items": ["Tire Size (F/R)", "Speed/Load Rating", "Run Flat (Y/N)", "TPMS (Y/N)", "Left Front Tire - PSI In", "Left Front Tire - PSI Out", "Left Front Tire - Tread Depth Outer", "Left Front Tire - Tread Depth Inner", "Left Front Tire - Edgewear", "Left Front Tire - Cracking", "Left Front Tire - Cupping", "Left Front Tire - Puncture", "Left Front Tire - Cuts", "Left Front Tire - Irregularity", "Left Front Tire - Repairable", "Left Front Tire - Unrepairable", "Right Front Tire - PSI In", "Right Front Tire - PSI Out", "Right Front Tire - Tread Depth Outer", "Right Front Tire - Tread Depth Inner", "Right Front Tire - Edgewear", "Right Front Tire - Cracking", "Right Front Tire - Cupping", "Right Front Tire - Puncture", "Right Front Tire - Cuts", "Right Front Tire - Irregularity", "Right Front Tire - Repairable", "Right Front Tire - Unrepairable", "Left Rear Tire - PSI In", "Left Rear Tire - PSI Out", "Left Rear Tire - Tread Depth Outer", "Left Rear Tire - Tread Depth Inner", "Left Rear Tire - Edgewear", "Left Rear Tire - Cracking", "Left Rear Tire - Cupping", "Left Rear Tire - Puncture", "Left Rear Tire - Cuts", "Left Rear Tire - Irregularity", "Left Rear Tire - Repairable", "Left Rear Tire - Unrepairable", "Right Rear Tire - PSI In", "Right Rear Tire - PSI Out", "Right Rear Tire - Tread Depth Outer", "Right Rear Tire - Tread Depth Inner", "Right Rear Tire - Edgewear", "Right Rear Tire - Cracking", "Right Rear Tire - Cupping", "Right Rear Tire - Puncture", "Right Rear Tire - Cuts", "Right Rear Tire - Irregularity", "Right Rear Tire - Repairable", "Right Rear Tire - Unrepairable", "Spare Tire - PSI In", "Spare Tire - PSI Out", "Spare Tire - Tread Depth Outer", "Spare Tire - Tread Depth Inner", "Spare Tire - Edgewear", "Spare Tire - Cracking", "Spare Tire - Cupping", "Spare Tire - Puncture", "Spare Tire - Cuts", "Spare Tire - Irregularity", "Spare Tire - Repairable", "Spare Tire - Unrepairable", "Tire Rotation", "Tire Balance", "Tire Wear", "Alignment Check"]}, "vehicle_inspection_maintenance": {"description": "Vehicle Inspection / Maintenance Services", "items": ["Wiper Blades", "Head Lights", "Mini Lights", "Air Filter", "Cabin Air Filter", "Fuel Filter", "Fuel System Service", "Power Steering Fluid", "Master Cyl. Fluid"]}}};
        let currentStep = 0;
        let inspectionData = {
            id: null,
            title: '',
            industry_info: {
                name: 'Automotive',
                type: 'automotive'
            },
            inspector_name: '',
            inspector_id: '',
            vin: '',
            vehicle_id: null,
            date: new Date().toISOString(),
            industry_type: 'automotive',
            categories: [],
            status: 'draft'
        };
        let inspectionId = null;
        let currentPhotoItem = null;

        // Initialize the inspection form
        document.addEventListener('DOMContentLoaded', function() {
            loadInspectionTemplate();
            setupEventListeners();
            
            // Check if we're editing an existing inspection
            const urlParams = new URLSearchParams(window.location.search);
            const editInspectionId = urlParams.get('id');
            
            if (editInspectionId) {
                loadExistingInspection(editInspectionId);
            } else {
                createInspection();
            }
            
            updateFinalizeButtonState();
        });

        function loadInspectionTemplate() {
            const content = document.getElementById('inspection-content');
            const stepsNav = document.getElementById('steps-nav');
            
            content.innerHTML = '';
            stepsNav.innerHTML = '';
            
            // Convert inspection_points to steps format
            const steps = Object.entries(inspectionTemplate.inspection_points).map(([key, value]) => ({
                name: value.description,
                subcategories: [{
                    name: value.description,
                    items: value.items
                }]
            }));
            
            steps.forEach((step, stepIndex) => {
                // Create step navigation
                const stepNav = document.createElement('div');
                stepNav.className = 'mb-2';
                stepNav.innerHTML = `
                    <button class="btn btn-outline-primary btn-sm w-100 text-start" 
                            onclick="showStep(${stepIndex})">
                        <i class="fas fa-${getStepIcon(step.name)}"></i>
                        ${step.name}
                    </button>
                `;
                stepsNav.appendChild(stepNav);
                
                // Create step content
                const stepContent = document.createElement('div');
                stepContent.id = `step-${stepIndex}`;
                stepContent.className = 'step-content';
                stepContent.style.display = stepIndex === 0 ? 'block' : 'none';
                
                stepContent.innerHTML = `
                    <div class="step-header p-3 mb-4 rounded">
                        <h3><i class="fas fa-${getStepIcon(step.name)}"></i> ${step.name}</h3>
                    </div>
                    ${generateStepContent(step, stepIndex)}
                `;
                
                content.appendChild(stepContent);
            });
            
            showStep(0);
        }

        function getStepIcon(stepName) {
            const icons = {
                'Vehicle Inspection / Maintenance Services': 'tools',
                'Tires & Tire Maintenance': 'tire',
                'Brakes': 'brake',
                'Fluid Leaks': 'droplet',
                'Battery/Starting Check': 'battery',
                'Ignition': 'bolt',
                'Steering & Suspension': 'cogs',
                'Exhaust': 'smoke'
            };
            return icons[stepName] || 'clipboard';
        }

        function generateStepContent(step, stepIndex) {
            let html = '';
            
            step.subcategories.forEach((subcategory, subIndex) => {
                html += `
                    <div class="subcategory-header p-3 mb-3 rounded">
                        <h5><i class="fas fa-folder"></i> ${subcategory.name}</h5>
                    </div>
                    <div class="table-responsive mb-4">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 40%">Item</th>
                                    <th style="width: 20%">Status</th>
                                    <th style="width: 20%">Photo</th>
                                    <th style="width: 20%">Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                `;
                
                subcategory.items.forEach((item, itemIndex) => {
                    const itemId = `${stepIndex}-${subIndex}-${itemIndex}`;
                    html += `
                        <tr class="item-row" data-testid="item-row" data-step="${step.name}" data-subcategory="${subcategory.name}" data-item="${item}">
                            <td>
                                <label class="form-label">
                                    ${item}
                                </label>
                            </td>
                            <td>
                                <select class="form-select form-select-sm status-select" id="status-${itemId}" data-testid="status-select">
                                    <option value="">Select Status</option>
                                    <option value="pass" class="status-pass" data-testid="status-pass">✅ Pass</option>
                                    <option value="rec" class="status-recommended" data-testid="status-recommended">⚠️ Recommended</option>
                                    <option value="req" class="status-required" data-testid="status-required">❌ Required</option>
                                </select>
                            </td>
                            <td>
                                <button type="button" class="btn btn-sm btn-outline-secondary photo-btn" data-testid="photo-upload"
                                        onclick="openPhotoModal('${step.name}', '${subcategory.name}', '${item}')">
                                    <i class="fas fa-camera"></i>
                                </button>
                                <div id="photo-${itemId}" class="mt-1" data-testid="photo-thumbnail"></div>
                            </td>
                            <td>
                                <textarea class="form-control form-control-sm notes-input" data-testid="notes-input item-note"
                                          rows="2" placeholder="Notes..."></textarea>
                            </td>
                        </tr>
                    `;
                });
                
                html += `
                            </tbody>
                        </table>
                    </div>
                `;
            });
            
            return html;
        }

        function showStep(stepIndex) {
            // Hide all steps
            document.querySelectorAll('.step-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // Show selected step
            const stepContent = document.getElementById(`step-${stepIndex}`);
            if (stepContent) {
                stepContent.style.display = 'block';
                currentStep = stepIndex;
            }
            
            // Update navigation
            document.querySelectorAll('#steps-nav button').forEach((btn, index) => {
                btn.classList.remove('btn-primary');
                btn.classList.add('btn-outline-primary');
                if (index === stepIndex) {
                    btn.classList.remove('btn-outline-primary');
                    btn.classList.add('btn-primary');
                }
            });
            
            updateProgress();
        }

        function updateProgress() {
            const totalItems = document.querySelectorAll('.item-row').length;
            const completedItems = document.querySelectorAll('.status-select').length;
            const percentage = totalItems > 0 ? Math.round((completedItems / totalItems) * 100) : 0;
            
            document.getElementById('progress-bar').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = `${percentage}% Complete`;
        }

        function setupEventListeners() {
            // Status select change
            document.addEventListener('change', function(e) {
                if (e.target.classList.contains('status-select')) {
                    updateProgress();
                    updateFinalizeButtonState();
                }
            });

            // Inspector fields
            document.getElementById('inspector_name').addEventListener('input', function() {
                inspectionData.inspector_name = this.value;
                // Clear validation error when user starts typing
                if (this.value.trim().length > 0) {
                    hideValidationError();
                    highlightField('inspector_name', true);
                }
                updateFinalizeButtonState();
            });

            document.getElementById('inspector_id').addEventListener('input', function() {
                inspectionData.inspector_id = this.value;
                // Clear validation error when user starts typing
                if (this.value.trim().length > 0) {
                    hideValidationError();
                    highlightField('inspector_id', true);
                }
                updateFinalizeButtonState();
            });

            document.getElementById('inspection_title').addEventListener('input', function() {
                inspectionData.title = this.value;
                // Clear validation error when user starts typing
                if (this.value.trim().length > 0) {
                    hideValidationError();
                    highlightField('inspection_title', true);
                }
            });

            // VIN decode button
            document.getElementById('decode-vin').addEventListener('click', decodeVIN);
            
            // Auto-decode VIN when user finishes typing (with debounce)
            let vinDecodeTimeout;
            document.getElementById('vin').addEventListener('input', function() {
                clearTimeout(vinDecodeTimeout);
                const vin = this.value.trim();
                inspectionData.vin = vin;
                
                // Clear validation error when user starts typing
                if (vin.length > 0) {
                    hideValidationError();
                    highlightField('vin', true);
                }
                
                if (vin.length >= 17) {
                    vinDecodeTimeout = setTimeout(() => {
                        decodeVIN();
                    }, 1000); // Wait 1 second after user stops typing
                }
            });

            // Save button
            document.getElementById('save-inspection').addEventListener('click', saveInspection);
            
            // Save Draft button
            document.getElementById('save-draft').addEventListener('click', saveDraft);

            // Finalize button
            document.getElementById('finalize-inspection').addEventListener('click', finalizeInspection);
            
            // Report generation buttons
            document.getElementById('generate-report').addEventListener('click', generateHTMLReport);
            document.getElementById('generate-pdf-report').addEventListener('click', generatePDFReport);
        }

        async function createInspection() {
            try {
                const response = await fetch('/api/inspections', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        title: inspectionData.title || 'Vehicle Inspection',
                        industry_type: 'automotive',
                        industry_info: {
                            industry_type: 'automotive',
                            facility_name: '',
                            location: '',
                            contact_person: '',
                            phone: '',
                            email: ''
                        },
                        inspector_name: inspectionData.inspector_name || 'Inspector',
                        inspector_id: inspectionData.inspector_id || 'TECH001',
                        vehicle_info: {
                            vin: inspectionData.vin
                        }
                    })
                });

                if (response.ok) {
                    const result = await response.json();
                    inspectionId = result.inspection_id;
                    inspectionData.id = inspectionId;
                    document.getElementById('inspection-id').value = inspectionId;
                    console.log('Inspection created:', inspectionId);
                } else {
                    const errorData = await response.json();
                    let errorMessage = 'Failed to create inspection';
                    
                    // Handle validation errors from server
                    if (response.status === 422) {
                        if (errorData.detail && Array.isArray(errorData.detail)) {
                            const validationErrors = errorData.detail.map(err => 
                                `${err.loc ? err.loc.join('.') + ': ' : ''}${err.msg}`
                            );
                            errorMessage = validationErrors.join('; ');
                        } else if (errorData.detail) {
                            errorMessage = errorData.detail;
                        }
                    } else if (errorData.detail) {
                        errorMessage = errorData.detail;
                    }
                    
                    showValidationError(errorMessage);
                    console.error('Failed to create inspection:', errorMessage);
                }
            } catch (error) {
                console.error('Error creating inspection:', error);
                showValidationError('Network error: Unable to create inspection. Please check your connection and try again.');
            }
        }

        async function loadExistingInspection(inspectionId) {
            try {
                const response = await fetch(`/api/inspections/${inspectionId}`);
                if (response.ok) {
                    const inspection = await response.json();
                    
                    // Set the inspection ID
                    inspectionId = inspection.id;
                    inspectionData = { ...inspection };
                    document.getElementById('inspection-id').value = inspectionId;
                    
                    // Populate form fields
                    if (inspection.title) {
                        document.getElementById('inspection_title').value = inspection.title;
                        inspectionData.title = inspection.title;
                    }
                    
                    if (inspection.inspector_name) {
                        document.getElementById('inspector_name').value = inspection.inspector_name;
                        inspectionData.inspector_name = inspection.inspector_name;
                    }
                    
                    if (inspection.inspector_id) {
                        document.getElementById('inspector_id').value = inspection.inspector_id;
                        inspectionData.inspector_id = inspection.inspector_id;
                    }
                    
                    if (inspection.vin) {
                        document.getElementById('vin').value = inspection.vin;
                        inspectionData.vin = inspection.vin;
                    }
                    
                    // Load vehicle info if available
                    if (inspection.vehicle_info) {
                        inspectionData.vehicle_info = inspection.vehicle_info;
                        displayVehicleInfo(inspection.vehicle_info);
                    }
                    
                    // Load categories data
                    if (inspection.categories && inspection.categories.length > 0) {
                        loadCategoriesData(inspection.categories);
                    }
                    
                    // Update status
                    if (inspection.status) {
                        updateStatus(inspection.status);
                    }
                    
                    console.log('Existing inspection loaded:', inspectionId);
                } else {
                    console.error('Failed to load inspection:', response.status);
                    // Fallback to creating new inspection
                    createInspection();
                }
            } catch (error) {
                console.error('Error loading existing inspection:', error);
                // Fallback to creating new inspection
                createInspection();
            }
        }

        function loadCategoriesData(categories) {
            categories.forEach(category => {
                category.items.forEach(item => {
                    // Find the corresponding row in the DOM
                    const row = document.querySelector(`[data-item="${item.name}"]`);
                    if (row) {
                        // Set status
                        const statusSelect = row.querySelector('.status-select');
                        if (statusSelect && item.grade) {
                            statusSelect.value = item.grade;
                        }
                        
                        // Set notes
                        const notesInput = row.querySelector('.notes-input');
                        if (notesInput && item.notes) {
                            notesInput.value = item.notes;
                        }
                        
                        // Set photos if available
                        if (item.photos && item.photos.length > 0) {
                            const photoContainer = row.querySelector('.photo-btn').nextElementSibling;
                            if (photoContainer) {
                                const img = document.createElement('img');
                                img.src = item.photos[0];
                                img.className = 'photo-preview mt-2';
                                img.alt = 'Uploaded photo';
                                photoContainer.appendChild(img);
                            }
                        }
                    }
                });
            });
        }

        function displayVehicleInfo(vehicleInfo) {
            const vehicleInfoDiv = document.getElementById('vehicle-info');
            const vehicleDetailsDiv = document.getElementById('vehicle-details');
            
            if (vehicleInfo && vehicleInfo.vin) {
                let details = `<div class="vehicle-info-item"><strong>VIN:</strong> ${vehicleInfo.vin}</div>`;
                
                if (vehicleInfo.year) details += `<div class="vehicle-info-item"><strong>Year:</strong> ${vehicleInfo.year}</div>`;
                if (vehicleInfo.make) details += `<div class="vehicle-info-item"><strong>Make:</strong> ${vehicleInfo.make}</div>`;
                if (vehicleInfo.model) details += `<div class="vehicle-info-item"><strong>Model:</strong> ${vehicleInfo.model}</div>`;
                if (vehicleInfo.trim) details += `<div class="vehicle-info-item"><strong>Trim:</strong> ${vehicleInfo.trim}</div>`;
                if (vehicleInfo.engine) details += `<div class="vehicle-info-item"><strong>Engine:</strong> ${vehicleInfo.engine}</div>`;
                if (vehicleInfo.transmission) details += `<div class="vehicle-info-item"><strong>Transmission:</strong> ${vehicleInfo.transmission}</div>`;
                if (vehicleInfo.body_style) details += `<div class="vehicle-info-item"><strong>Body Style:</strong> ${vehicleInfo.body_style}</div>`;
                if (vehicleInfo.fuel_type) details += `<div class="vehicle-info-item"><strong>Fuel Type:</strong> ${vehicleInfo.fuel_type}</div>`;
                if (vehicleInfo.drivetrain) details += `<div class="vehicle-info-item"><strong>Drivetrain:</strong> ${vehicleInfo.drivetrain}</div>`;
                
                vehicleDetailsDiv.innerHTML = details;
                vehicleInfoDiv.style.display = 'block';
            }
        }

        async function createInspectionWithVINData(vehicleData) {
            try {
                // If inspection already exists, update it with VIN data
                if (inspectionId) {
                    const response = await fetch(`/api/inspections/${inspectionId}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            ...inspectionData,
                            vehicle_info: {
                                vin: inspectionData.vin,
                                year: vehicleData.year,
                                make: vehicleData.make,
                                model: vehicleData.model,
                                trim: vehicleData.trim,
                                engine: vehicleData.engine_displacement,
                                transmission: vehicleData.transmission_type,
                                body_style: vehicleData.body_style,
                                fuel_type: vehicleData.fuel_type,
                                drivetrain: vehicleData.drivetrain,
                                country_of_origin: vehicleData.country_of_origin,
                                plant_code: vehicleData.plant_code,
                                serial_number: vehicleData.serial_number
                            }
                        })
                    });

                    if (response.ok) {
                        console.log('Inspection updated with VIN data');
                    } else {
                        console.error('Failed to update inspection with VIN data');
                    }
                } else {
                    // Create new inspection with VIN data
                    const response = await fetch('/api/inspections', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            title: inspectionData.title || 'Vehicle Inspection',
                            industry_type: 'automotive',
                            industry_info: {
                                industry_type: 'automotive',
                                facility_name: '',
                                location: '',
                                contact_person: '',
                                phone: '',
                                email: ''
                            },
                            inspector_name: inspectionData.inspector_name || 'Inspector',
                            inspector_id: inspectionData.inspector_id || 'TECH001',
                            vehicle_info: {
                                vin: inspectionData.vin,
                                year: vehicleData.year,
                                make: vehicleData.make,
                                model: vehicleData.model,
                                trim: vehicleData.trim,
                                engine: vehicleData.engine_displacement,
                                transmission: vehicleData.transmission_type,
                                body_style: vehicleData.body_style,
                                fuel_type: vehicleData.fuel_type,
                                drivetrain: vehicleData.drivetrain,
                                country_of_origin: vehicleData.country_of_origin,
                                plant_code: vehicleData.plant_code,
                                serial_number: vehicleData.serial_number
                            }
                        })
                    });

                                    if (response.ok) {
                    const result = await response.json();
                    inspectionId = result.inspection_id;
                    inspectionData.id = inspectionId;
                    document.getElementById('inspection-id').value = inspectionId;
                    console.log('Inspection created with VIN data:', inspectionId);
                    } else {
                        console.error('Failed to create inspection with VIN data');
                    }
                }
            } catch (error) {
                console.error('Error creating/updating inspection with VIN data:', error);
            }
        }

        async function decodeVIN() {
            const vin = document.getElementById('vin').value.trim();
            if (!vin) {
                alert('Please enter a VIN number');
                return;
            }

            try {
                const response = await fetch(`/vehicle/decode/${vin}`);
                if (response.ok) {
                    const vehicleData = await response.json();
                    displayVehicleInfo(vehicleData);
                    inspectionData.vin = vin;
                    
                    // Create or update inspection with VIN data
                    await createInspectionWithVINData(vehicleData);
                } else {
                    alert('Failed to decode VIN');
                }
            } catch (error) {
                console.error('Error decoding VIN:', error);
                alert('Error decoding VIN');
            }
        }

        function openPhotoModal(step, subcategory, item) {
            currentPhotoItem = { step, subcategory, item };
            const modal = new bootstrap.Modal(document.getElementById('photoModal'));
            modal.show();
        }

        async function uploadPhoto() {
            if (!currentPhotoItem) return;

            const fileInput = document.getElementById('photo-file');
            const cameraInput = document.getElementById('camera-input');
            
            let file = fileInput.files[0] || cameraInput.files[0];
            if (!file) {
                alert('Please select a photo');
                return;
            }

            const formData = new FormData();
            formData.append('file', file);
            formData.append('step', currentPhotoItem.step);
            formData.append('subcategory', currentPhotoItem.subcategory);
            formData.append('item', currentPhotoItem.item);

            try {
                const response = await fetch(`/api/inspections/${inspectionId}/photos`, {
                    method: 'POST',
                    body: formData
                });

                if (response.ok) {
                    const result = await response.json();
                    
                    // Close modal using Bootstrap API
                    const modal = bootstrap.Modal.getInstance(document.getElementById('photoModal'));
                    modal.hide();
                    
                    // Update the UI to show the uploaded photo
                    updatePhotoDisplay(currentPhotoItem.step, currentPhotoItem.subcategory, currentPhotoItem.item, result.photo_url || result.filename);
                    
                    alert('Photo uploaded successfully');
                } else {
                    const errorData = await response.json();
                    alert('Failed to upload photo: ' + (errorData.detail || 'Unknown error'));
                }
            } catch (error) {
                console.error('Error uploading photo:', error);
                alert('Error uploading photo');
            }
        }

        function updatePhotoDisplay(step, subcategory, item, photoUrl) {
            // Find the correct item row and update its photo display
            const itemRows = document.querySelectorAll('.item-row');
            itemRows.forEach(row => {
                if (row.dataset.step === step && 
                    row.dataset.subcategory === subcategory && 
                    row.dataset.item === item) {
                    
                    const photoContainer = row.querySelector('.photo-btn').nextElementSibling;
                    if (photoContainer) {
                        // Ensure the photo URL is correct
                        let displayUrl = photoUrl;
                        if (!photoUrl.startsWith('/') && !photoUrl.startsWith('http')) {
                            displayUrl = `/static/uploads/inspections/${photoUrl}`;
                        } else if (photoUrl.startsWith('/static/uploads/') && !photoUrl.includes('/inspections/')) {
                            // Fix legacy URLs to use the correct path
                            displayUrl = photoUrl.replace('/static/uploads/', '/static/uploads/inspections/');
                        }
                        
                        photoContainer.innerHTML = `
                            <img src="${displayUrl}" 
                                 class="img-thumbnail" style="max-width: 50px; max-height: 50px;" 
                                 alt="Uploaded photo"
                                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <div class="text-muted small" style="display: none;">Photo uploaded</div>
                        `;
                        
                        // Also update the photo button to show it's been used
                        const photoBtn = row.querySelector('.photo-btn');
                        if (photoBtn) {
                            photoBtn.classList.add('btn-success');
                            photoBtn.classList.remove('btn-outline-primary');
                            photoBtn.innerHTML = '<i class="fas fa-camera"></i> Photo Added';
                        }
                    }
                }
            });
        }

        function loadExistingPhotos() {
            // Load existing photos from inspection data
            if (inspectionData) {
                if (inspectionData.categories) {
                    // Old structure with categories
                    inspectionData.categories.forEach(category => {
                        category.items.forEach(item => {
                            if (item.photo_url) {
                                updatePhotoDisplay(category.name, category.name, item.name, item.photo_url);
                            }
                        });
                    });
                } else if (inspectionData.items) {
                    // New structure with items array
                    inspectionData.items.forEach(item => {
                        if (item.photo_url) {
                            updatePhotoDisplay(item.step, item.subcategory, item.item, item.photo_url);
                        }
                    });
                }
            }
        }

        // Validation helper functions
        function showValidationError(message) {
            const container = document.getElementById('validation-error-container');
            const messageSpan = document.getElementById('validation-error-message');
            messageSpan.textContent = message;
            container.style.display = 'block';
            container.classList.remove('d-none');
        }

        function hideValidationError() {
            const container = document.getElementById('validation-error-container');
            container.style.display = 'none';
            container.classList.add('d-none');
        }

        function highlightField(fieldId, isValid) {
            const field = document.getElementById(fieldId);
            if (field) {
                if (!isValid) {
                    field.classList.add('field-error');
                    field.setAttribute('aria-invalid', 'true');
                } else {
                    field.classList.remove('field-error');
                    field.setAttribute('aria-invalid', 'false');
                }
            }
        }

        function validateForm() {
            let isValid = true;
            let errorMessages = [];

            // Validate inspector name
            const inspectorName = inspectionData.inspector_name.trim();
            if (!inspectorName) {
                errorMessages.push('Inspector name is required');
                highlightField('inspector_name', false);
                isValid = false;
            } else {
                highlightField('inspector_name', true);
            }

            // Validate inspector ID
            const inspectorId = inspectionData.inspector_id.trim();
            if (!inspectorId) {
                errorMessages.push('Inspector ID is required');
                highlightField('inspector_id', false);
                isValid = false;
            } else {
                highlightField('inspector_id', true);
            }

            // Validate inspection title
            const title = inspectionData.title.trim();
            if (!title) {
                errorMessages.push('Inspection title is required');
                highlightField('inspection_title', false);
                isValid = false;
            } else {
                highlightField('inspection_title', true);
            }

            // Validate VIN if provided
            const vin = inspectionData.vin.trim();
            if (vin && vin.length !== 17) {
                errorMessages.push('VIN must be exactly 17 characters');
                highlightField('vin', false);
                isValid = false;
            } else if (vin) {
                highlightField('vin', true);
            }

            if (!isValid) {
                showValidationError(errorMessages.join('; '));
            } else {
                hideValidationError();
            }

            return isValid;
        }

        function updateFinalizeButtonState() {
            const finalizeButton = document.getElementById('finalize-inspection');
            const isFormValid = validateForm();
            const hasCompletedItems = hasAllItemsCompleted();
            
            if (isFormValid && hasCompletedItems && inspectionData.status !== 'finalized') {
                finalizeButton.disabled = false;
                finalizeButton.classList.remove('btn-secondary');
                finalizeButton.classList.add('btn-warning');
            } else {
                finalizeButton.disabled = true;
                finalizeButton.classList.remove('btn-warning');
                finalizeButton.classList.add('btn-secondary');
            }
        }

        function hasAllItemsCompleted() {
            const statusSelects = document.querySelectorAll('.status-select');
            let completedCount = 0;
            let totalCount = 0;
            
            statusSelects.forEach(select => {
                totalCount++;
                if (select.value && ['pass', 'rec', 'req'].includes(select.value)) {
                    completedCount++;
                }
            });
            
            return totalCount > 0 && completedCount === totalCount;
        }

        async function finalizeInspection() {
            // Clear previous validation errors
            hideValidationError();
            
            // Validate required fields
            if (!validateForm()) {
                return;
            }

            // Validate that all items are completed
            if (!hasAllItemsCompleted()) {
                showValidationError('All inspection items must be completed before finalizing.');
                return;
            }

            if (!inspectionId) {
                // Try to create inspection if it doesn't exist
                try {
                    await createInspection();
                    if (!inspectionId) {
                        showValidationError('Failed to create inspection. Please try again.');
                        return;
                    }
                } catch (error) {
                    console.error('Error creating inspection:', error);
                    showValidationError('Failed to create inspection. Please try again.');
                    return;
                }
            }

            // Save current state before finalizing (without redirect)
            const saveSuccess = await saveInspectionWithoutRedirect();
            if (!saveSuccess) {
                return; // Stop if save failed
            }

            try {
                const response = await fetch(`/inspection/${inspectionId}/finalize`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const result = await response.json();
                    
                    // Update local inspection data
                    inspectionData.status = 'finalized';
                    inspectionData.finalized_at = result.metadata.finalized_at;
                    
                    // Update UI to show finalized state
                    updateInspectionStatus('Finalized');
                    disableFormEditing();
                    
                    // Show success message with summary
                    const summary = result.summary;
                    const message = `Inspection finalized successfully!\n\nSummary:\n` +
                        `• Total Items: ${summary.total_items}\n` +
                        `• Pass: ${summary.pass_count}\n` +
                        `• Recommended: ${summary.recommended_count}\n` +
                        `• Required: ${summary.required_count}\n` +
                        `• Completion: ${summary.completion_percentage}%`;
                    
                    alert(message);
                    
                    // Update finalize button
                    const finalizeButton = document.getElementById('finalize-inspection');
                    finalizeButton.disabled = true;
                    finalizeButton.classList.remove('btn-warning');
                    finalizeButton.classList.add('btn-success');
                    finalizeButton.innerHTML = '<i class="fas fa-check"></i> Finalized';
                    
                } else {
                    const errorData = await response.json();
                    let errorMessage = 'Failed to finalize inspection';
                    
                    if (errorData.detail) {
                        errorMessage = errorData.detail;
                    }
                    
                    showValidationError(errorMessage);
                }
            } catch (error) {
                console.error('Error finalizing inspection:', error);
                showValidationError('Network error: Unable to finalize inspection. Please check your connection and try again.');
            }
        }

        function updateInspectionStatus(status) {
            const statusText = document.getElementById('status-text');
            const statusContainer = document.getElementById('inspection-status');
            
            statusText.textContent = status;
            
            if (status === 'Finalized') {
                statusContainer.className = 'alert alert-success';
                statusContainer.innerHTML = '<i class="fas fa-check-circle"></i> Status: <span id="status-text">Finalized</span>';
            } else {
                statusContainer.className = 'alert alert-info';
                statusContainer.innerHTML = '<i class="fas fa-info-circle"></i> Status: <span id="status-text">' + status + '</span>';
            }
        }

        function disableFormEditing() {
            // Disable all form inputs
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.disabled = true;
            });
            
            // Disable photo upload buttons
            const photoButtons = document.querySelectorAll('.photo-btn');
            photoButtons.forEach(button => {
                button.disabled = true;
                button.classList.add('btn-secondary');
                button.classList.remove('btn-outline-secondary');
            });
            
            // Disable save button
            const saveButton = document.getElementById('save-inspection');
            saveButton.disabled = true;
            saveButton.classList.add('btn-secondary');
            saveButton.classList.remove('btn-success');
        }

        async function saveInspectionWithoutRedirect() {
            // Clear previous validation errors
            hideValidationError();
            
            // Validate required fields
            if (!validateForm()) {
                return false;
            }

            if (!inspectionId) {
                // Try to create inspection if it doesn't exist
                try {
                    await createInspection();
                    if (!inspectionId) {
                        showValidationError('Failed to create inspection. Please try again.');
                        return false;
                    }
                } catch (error) {
                    console.error('Error creating inspection:', error);
                    showValidationError('Failed to create inspection. Please try again.');
                    return false;
                }
            }

            // Collect all inspection data and transform to categories format
            const categories = [];
            const steps = Object.entries(inspectionTemplate.inspection_points);
            
            steps.forEach(([key, stepData]) => {
                const category = {
                    name: stepData.description,
                    description: stepData.description,
                    items: []
                };

                stepData.items.forEach(itemName => {
                    // Find the corresponding row in the DOM
                    const row = document.querySelector(`[data-item="${itemName}"]`);
                    if (row) {
                        const status = row.querySelector('.status-select').value;
                        const notes = row.querySelector('.notes-input').value;
                        const photoContainer = row.querySelector('.photo-btn').nextElementSibling;
                        const photoImg = photoContainer.querySelector('img');
                        const photo_url = photoImg ? photoImg.src : null;

                        category.items.push({
                            name: itemName,
                            grade: status || 'N/A',
                            notes: notes,
                            photos: photo_url ? [photo_url] : []
                        });
                    }
                });

                categories.push(category);
            });

            // Update inspection data with categories format
            inspectionData.categories = categories;
            inspectionData.date = new Date().toISOString();

            try {
                const response = await fetch(`/api/inspections/${inspectionId}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(inspectionData)
                });

                if (response.ok) {
                    const result = await response.json();
                    hideValidationError();
                    return true;
                } else {
                    const errorData = await response.json();
                    let errorMessage = 'Failed to save inspection';
                    
                    // Handle validation errors from server
                    if (response.status === 422) {
                        if (errorData.detail && Array.isArray(errorData.detail)) {
                            const validationErrors = errorData.detail.map(err => 
                                `${err.loc ? err.loc.join('.') + ': ' : ''}${err.msg}`
                            );
                            errorMessage = validationErrors.join('; ');
                        } else if (errorData.detail) {
                            errorMessage = errorData.detail;
                        }
                    } else if (errorData.detail) {
                        errorMessage = errorData.detail;
                    }
                    
                    showValidationError(errorMessage);
                    return false;
                }
            } catch (error) {
                console.error('Error saving inspection:', error);
                showValidationError('Network error: Unable to save inspection. Please check your connection and try again.');
                return false;
            }
        }

        async function saveInspection() {
            // Clear previous validation errors
            hideValidationError();
            
            // Validate required fields
            if (!validateForm()) {
                return;
            }

            if (!inspectionId) {
                // Try to create inspection if it doesn't exist
                try {
                    await createInspection();
                    if (!inspectionId) {
                        showValidationError('Failed to create inspection. Please try again.');
                        return;
                    }
                } catch (error) {
                    console.error('Error creating inspection:', error);
                    showValidationError('Failed to create inspection. Please try again.');
                    return;
                }
            }

            // Collect all inspection data and transform to categories format
            const categories = [];
            const steps = Object.entries(inspectionTemplate.inspection_points);
            
            steps.forEach(([key, stepData]) => {
                const category = {
                    name: stepData.description,
                    description: stepData.description,
                    items: []
                };

                stepData.items.forEach(itemName => {
                    // Find the corresponding row in the DOM
                    const row = document.querySelector(`[data-item="${itemName}"]`);
                    if (row) {
                        const status = row.querySelector('.status-select').value;
                        const notes = row.querySelector('.notes-input').value;
                        const photoContainer = row.querySelector('.photo-btn').nextElementSibling;
                        const photoImg = photoContainer.querySelector('img');
                        const photo_url = photoImg ? photoImg.src : null;

                        category.items.push({
                            name: itemName,
                            grade: status || 'N/A',
                            notes: notes,
                            photos: photo_url ? [photo_url] : []
                        });
                    }
                });

                categories.push(category);
            });

            // Update inspection data with categories format
            inspectionData.categories = categories;
            inspectionData.date = new Date().toISOString();

            try {
                const response = await fetch(`/api/inspections/${inspectionId}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(inspectionData)
                });

                if (response.ok) {
                    const result = await response.json();
                    hideValidationError();
                    alert('Inspection saved successfully!');
                    window.location.href = '/inspections';
                } else {
                    const errorData = await response.json();
                    let errorMessage = 'Failed to save inspection';
                    
                    // Handle validation errors from server
                    if (response.status === 422) {
                        if (errorData.detail && Array.isArray(errorData.detail)) {
                            const validationErrors = errorData.detail.map(err => 
                                `${err.loc ? err.loc.join('.') + ': ' : ''}${err.msg}`
                            );
                            errorMessage = validationErrors.join('; ');
                        } else if (errorData.detail) {
                            errorMessage = errorData.detail;
                        }
                    } else if (errorData.detail) {
                        errorMessage = errorData.detail;
                    }
                    
                    showValidationError(errorMessage);
                }
            } catch (error) {
                console.error('Error saving inspection:', error);
                showValidationError('Network error: Unable to save inspection. Please check your connection and try again.');
            }
        }

        async function saveDraft() {
            // Collect current form data without validation
            const draftData = {
                title: document.getElementById('inspection_title').value || '',
                inspector_name: document.getElementById('inspector_name').value || '',
                inspector_id: document.getElementById('inspector_id').value || '',
                vin: document.getElementById('vin').value || '',
                vehicle_info: inspectionData.vehicle_info || null,
                categories: [],
                status: 'draft',
                updated_at: new Date().toISOString()
            };

            // Collect categories data
            const categories = [];
            const steps = Object.entries(inspectionTemplate.inspection_points);
            
            steps.forEach(([key, stepData]) => {
                const category = {
                    name: stepData.description,
                    description: stepData.description,
                    items: []
                };

                stepData.items.forEach(itemName => {
                    const row = document.querySelector(`[data-item="${itemName}"]`);
                    if (row) {
                        const status = row.querySelector('.status-select').value;
                        const notes = row.querySelector('.notes-input').value;
                        const photoContainer = row.querySelector('.photo-btn').nextElementSibling;
                        const photoImg = photoContainer.querySelector('img');
                        const photo_url = photoImg ? photoImg.src : null;

                        category.items.push({
                            name: itemName,
                            grade: status || 'N/A',
                            notes: notes,
                            photos: photo_url ? [photo_url] : []
                        });
                    }
                });

                categories.push(category);
            });

            draftData.categories = categories;

            try {
                if (!inspectionId) {
                    // Create new inspection if it doesn't exist
                    const createResponse = await fetch('/api/inspections', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            title: draftData.title || 'Draft Inspection',
                            industry_info: {
                                name: 'Automotive',
                                type: 'automotive'
                            },
                            vehicle_info: draftData.vehicle_info,
                            inspector_name: draftData.inspector_name,
                            inspector_id: draftData.inspector_id,
                            industry_type: 'automotive'
                        })
                    });

                    if (createResponse.ok) {
                        const createResult = await createResponse.json();
                        inspectionId = createResult.inspection_id;
                        document.getElementById('inspection-id').value = inspectionId;
                    } else {
                        throw new Error('Failed to create inspection');
                    }
                }

                // Save draft using PATCH endpoint
                const response = await fetch(`/api/inspections/${inspectionId}`, {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(draftData)
                });

                if (response.ok) {
                    const result = await response.json();
                    hideValidationError();
                    alert('Draft saved successfully!');
                    updateStatus('Draft');
                } else {
                    const errorData = await response.json();
                    let errorMessage = 'Failed to save draft';
                    
                    if (errorData.detail) {
                        errorMessage = errorData.detail;
                    }
                    
                    showValidationError(errorMessage);
                }
            } catch (error) {
                console.error('Error saving draft:', error);
                showValidationError('Network error: Unable to save draft. Please check your connection and try again.');
            }
        }

        async function generateHTMLReport() {
            if (!inspectionId) {
                alert('Please save the inspection first before generating a report.');
                return;
            }
            
            try {
                const response = await fetch(`/api/inspections/${inspectionId}/report`);
                if (response.ok) {
                    const reportData = await response.json();
                    // Open report in new window or redirect
                    window.open(`/inspection/${inspectionId}/report`, '_blank');
                } else {
                    alert('Error generating HTML report');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Error generating HTML report');
            }
        }

        async function generatePDFReport() {
            if (!inspectionId) {
                alert('Please save the inspection first before generating a report.');
                return;
            }
            
            try {
                const response = await fetch(`/api/inspections/${inspectionId}/report/pdf`);
                if (response.ok) {
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `inspection_report_${inspectionId}.pdf`;
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                    document.body.removeChild(a);
                } else {
                    alert('Error generating PDF report');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Error generating PDF report');
            }
        }
    </script>
    <script src="/static/js/error-handler.js"></script><div id="error-toast-container" class="position-fixed" style="top: 20px; right: 20px; z-index: 9999; max-width: 400px;"></div>
    <script src="/static/js/api-client.js"></script>

 </body></html>